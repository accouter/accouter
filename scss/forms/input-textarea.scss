@use "shared";
@use "../configs/variables-derived" as vd;
@use "../configs/variables-init" as vi;
@use "../configs/variables-scss" as vs;
@use "../configs/extends";
@use "../configs/controls";
@use "../configs/mixins" as mx;

$textarea-padding:    vs.getVar("control-padding-horizontal") !default;
$textarea-max-height: 40em !default;
$textarea-min-height: 8em !default;

$textarea-colors:     vd.$colors !default;

%input-textarea {
  @extend %input;

  @include vs.regiser-vars((
    "input-h": vs.getVar("scheme-h"),
    "input-s": vs.getVar("scheme-s"),
    "input-border-style": solid,
    "input-border-width": 1px,
    "input-border-l": vs.getVar("border-l")
  ));

  box-shadow: shared.$input-shadow;
  max-width:  100%;
  width:      100%;

  &[readonly] {
    box-shadow: none;
  }

  // colors
  @each $name, $pair in $textarea-colors {
    $color: nth($pair, 1);

    &.#{vi.$prefix}is-#{$name} {
      @include vs.register-vars((
        "input-h": vs.getVar($name, "", "-h"),
        "input-s": vs.getVar($name, "", "-s"),
        "input-l": vs.getVar($name, "", "-l"),
        "input-focus-h": vs.getVar($name, "", "-h"),
        "input-focus-s": vs.getVar($name, "", "-s"),
        "input-focus-l": vs.getVar($name, "", "-l"),
        "input-border-l": vs.getVar($name, "", "-l")
      ));
    }
  }

  // sizes
  &.#{vi.$prefix}is-small {
    @include controls.control-small;
  }

  &.#{vi.$prefix}is-medium {
    @include controls.control-medium;
  }

  &.#{vi.$prefix}is-large {
    @include controls.control-large;
  }

  // modifiers
  &.#{vi.$prefix}is-fullwidth {
    display: block;
    width:   100%;
  }

  &.#{vi.$prefix}is-inline {
    display: inline;
    width:   auto;
  }
}

.#{vi.$prefix}input {}

.#{vi.$prefix}textarea {}